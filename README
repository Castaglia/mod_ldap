mod_ldap v2.5.1
===============

mod_ldap is a module that allows proftpd to do user authentication and
name/UID lookups against an LDAP database.

**Please note:** some of the basic configuration directives changed in
version 2.0 of mod_ldap; please read the included documentation carefully
to find out what you will need to update in your proftpd.conf.


Sections:
1. How do I set up mod_ldap?
2. To-Do
3. Thanks
4. Author


============================
1. How do I set up mod_ldap?
============================

Currently, mod_ldap has only been heavily tested with recent versions of
OpenLDAP-stable, but has been reported to work with Netscape Directory
Server without any modification.

1. Add the following schema to your slapd.oc.conf (if it's not already
   there) and restart slapd:

objectclass posixAccount
        requires
                objectclass,
                cn,
                uid,
                uidNumber,
                gidNumber,
                homeDirectory
        allows
                userPassword,
                loginShell,
                gecos,
                description

2. Create an ldif file and add it to your LDAP server by saying: ldapadd -D
   your-root-dn -w your-root-dn-password < ldif-file

A sample ldif is included here:

dn: cn=John Morrissey, dc=horde, dc=net
cn: John Morrissey
uid: jwmsax
uidNumber: 2000
gidNumber: 100
homeDirectory: /home/jwm
userPassword: {crypt}SosPSqZVHbI5Y
loginShell: /bin/bash

3. Read up on the LDAP config-file directives in doc/Configuration.html. At
bare minimum, you'll need to have LDAPServer, LDAPDNInfo, and LDAPDoAuth
configuration directives in your proftpd.conf.

A sample set of LDAP configuration directives is included here:

LDAPServer            localhost
LDAPDNInfo            cn=your-dn,dc=horde,dc=net dnpass
LDAPDoAuth            on "dc=users,dc=horde,dc=net"

=======
2. ToDo
=======

* different log levels in mod_ldap to log varying debug info
* config file directive to not even look up [ug]id attrs if we're using
  a default [ug]id
* perror()-like error reporting to improve error messages
* shadowAccount objectclass stuff - inactive, expiration, etc.

=========
3. Thanks
=========

* James <james@wwnet.net> for a copy of his LDAP module that he never released
* Krzysztof Dabrowski <brush@pol.pl> for some big virtual-user ideas
* Peter Deacon <peterd@iea-software.com> for ideas
* Peter Fabian <fabian@staff.matavnet.hu> for ideas and a tested platform
* Ralf Kruedewagen <Ralf.Kruedewagen@meocom.de> for a tested platform
* Scott Murphy <smurphy@berbee.com> for a trouble report
* Bert Vermeulen <bert@be.easynet.net> for patches
* Everyone else who has sent feedback on mod_ldap

=========
5. Author
=========

John Morrissey, <jwm@horde.net>, http://horde.net/~jwm/software/mod_ldap
Feedback is much appreciated. If you're using mod_ldap successfully, or
you're having problems getting mod_ldap up and running at your site, or
even have some code improvements or ideas for development, please let
me know!
